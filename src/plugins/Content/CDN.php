<?php
//**************************************************************************************
//**************************************************************************************
/**
 * Content Delivery Plugin
 *
 * @package		phpOpenFW
 * @author 		Christian J. Clark
 * @copyright	Copyright (c) Christian J. Clark
 * @license		https://mit-license.org
 **/
//**************************************************************************************
//**************************************************************************************

namespace phpOpenFW\Content;

//**************************************************************************************
/**
 * Content Delivery Class
 */
//**************************************************************************************
class CDN
{

	//*****************************************************************************
	//*****************************************************************************
	// Output Content Type Header
	//*****************************************************************************
	//*****************************************************************************
	public static function OutputContentType($file)
	{
		$path_parts = pathinfo($file);
		if (empty($path_parts['extension'])) {
			return false;
		}
		$ext = strtolower($path_parts['extension']);

		switch ($ext) {

			//======================================================
			// Javascript
			//======================================================
			case 'js':
				header('Content-type: text/javascript');
				break;

			//======================================================
			// CSS
			//======================================================
			case 'css':
				header('Content-type: text/css');
				break;

			//======================================================
			// Images
			//======================================================
			case 'jpg':
			case 'jpeg':
			case 'gif':
			case 'png':
				header("Content-type: image/{$ext}");
				break;

			//======================================================
			// Scalable Vector Graphics (SVG)
			//======================================================
			case 'svg':
			case 'svgz':
				header("Content-type: image/svg+xml");
				if ($ext == 'svgz') {
					header("Content-Encoding: gzip");	
				}
				break;

			//======================================================
			// XML
			//======================================================
			case 'xml':
			case 'xsl':
				header('Content-type: text/xml');
				break;

			//======================================================
			// HTML / XHTML
			//======================================================
			case 'html':
			case 'xhtml':
				header('Content-type: text/html');
				break;

			//======================================================
			// Text
			//======================================================
			case 'txt':
			case 'json':
				header('Content-type: text/plain');
				break;

			//======================================================
			// Default: File Not Found (i.e. 404)
			//======================================================
			default:
				return false;
				break;
		}

		return true;
	}

}

